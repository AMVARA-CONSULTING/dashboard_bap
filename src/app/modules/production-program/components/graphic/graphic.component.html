<div class="wrapper" [@list]="zoneKeys.length">
  <div class="zone" (click)="goZone(zoneKey)" *ngFor="let zoneKey of zoneKeys" [style.width.%]="barsWidth">
    <div class="bars">
      <div style="position: relative; height: 100%;">
        <div [ngClass]="{zero: !ready}" class="previous" [style.height.%]="zones[zoneKey].percentPrevious">
          <div class="value" *ngIf="!(_data.mobile$ | async)">{{ (_data.sumByIndex(rows[zoneKey], 17) | toNumber) }}</div>
        </div>
        <div [ngClass]="{zero: !ready}" class="actual" [style.height.%]="zones[zoneKey].percentActual">
          <div class="value" *ngIf="!(_data.mobile$ | async)">{{ (_data.sumByIndex(rows[zoneKey], 15) | toNumber) }}</div>
        </div>
        <div [ngClass]="{zero: !ready}" class="reserve" [style.height.%]="zones[zoneKey].percentReserve">
          <div class="value" *ngIf="!(_data.mobile$ | async)">{{ (_data.sumByIndex(rows[zoneKey], 22) | toNumber) }}</div>
        </div>
      </div>
    </div>
    <div class="title">{{ zones[zoneKey].title.trim() }}</div>
  </div>
</div>
